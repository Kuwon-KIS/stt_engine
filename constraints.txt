# Constraints file to prevent pip from reinstalling packages multiple times
# This ensures stable builds by locking down all transitive dependencies

# Core dependencies (from requirements.txt)
faster-whisper==1.2.1
ctranslate2==4.7.1
openai-whisper==20231117
librosa==0.10.0
numpy==1.24.3
scipy==1.12.0
huggingface-hub>=0.21
transformers>=4.30,<6
python-dotenv==1.0.0
pydantic==2.5.3
fastapi==0.109.0
starlette==0.35.0
uvicorn==0.27.0
requests==2.31.0
pyyaml==6.0.1
python-multipart==0.0.6
psutil==5.9.8

# NOTE: torch, torchaudio, and NVIDIA CUDA packages are NOT included here
# because they are installed separately in Step 7 of the Dockerfile
# with custom index URL (https://download.pytorch.org/whl/cu124)
# Including them here would cause duplicate installations

# Transitive dependencies (prevent version conflicts and reinstalls)
# These are locked based on PyTorch 2.6.0 + CUDA 12.4 compatibility
filelock==3.20.3
typing-extensions>=4.10.0
networkx==3.6.1
jinja2==3.1.6
fsspec==2026.2.0
sympy==1.13.1
mpmath==1.3.0
MarkupSafe==3.0.3

# Audio processing (librosa dependencies)
audioread>=3.0.0
pooch>=1.1
joblib>=1.3.0
decorator>=3.4.2
numba>=0.51.2
llvmlite<0.41

# Model loading
safetensors>=0.4.0

# Whisper/Transformers dependencies
tokenizers!=0.14.0
regex!=2023.12.25
click>=8.0.0
colorama>=0.4.5
tqdm>=4.62.0
packaging>=20.0
